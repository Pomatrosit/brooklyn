<template>
  <div class="menu">
    <div class="app-wrapper">
      <p class="menu__item" @click="goTo('/apartments/parameters/studios')">Выбор квартиры</p>
      <p class="menu__item" @click="goTo('/news')">Новости</p>
      <p class="menu__item" @click="goTo('/gallery')">Галерея</p>
      <p class="menu__item" @click="goTo('/progress')">Ход строительства</p>
      <p class="menu__item" @click="goTo('/contacts')">Контакты</p>
      <p class="menu__item" @click="openModal">Записаться на просмотр</p>
      <div class="menu__item social">
        <span>Социальные сети</span>
        <div class="icons">
          <svg v-if="allInfo[0].youtube" @click="goToOuterLink(allInfo[0].youtube)" width="20" height="23" viewBox="0 0 20 23" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M17.2066 2.553V9.752H15.7042V8.947C15.1252 9.545 14.5462 9.844 13.9671 9.844C13.2629 9.844 12.9108 9.41467 12.9108 8.556V2.553H14.4131V8.073C14.4131 8.395 14.5462 8.556 14.8122 8.556C15.0782 8.556 15.3756 8.372 15.7042 8.004V2.553H17.2066ZM11.6432 4.232V7.958C11.6432 8.602 11.4476 9.09267 11.0563 9.43C10.6651 9.76733 10.133 9.936 9.46009 9.936C8.81847 9.936 8.29812 9.75583 7.89906 9.3955C7.5 9.03517 7.30047 8.54833 7.30047 7.935V4.209C7.30047 3.611 7.51565 3.15483 7.94601 2.8405C8.37637 2.52617 8.90454 2.369 9.53052 2.369C10.1252 2.369 10.626 2.53767 11.0329 2.875C11.4397 3.21233 11.6432 3.66467 11.6432 4.232ZM10.1174 8.073V4.14C10.1174 3.98667 10.0469 3.86017 9.9061 3.7605C9.76526 3.66083 9.61659 3.611 9.46009 3.611C9.3036 3.611 9.16276 3.66083 9.03756 3.7605C8.91236 3.86017 8.84977 3.98667 8.84977 4.14V8.073C8.84977 8.47167 9.05321 8.671 9.46009 8.671C9.89828 8.671 10.1174 8.47167 10.1174 8.073ZM5.65728 0H7.37089L6.07981 3.795C6.01721 3.979 5.93897 4.18983 5.84507 4.4275C5.75117 4.66517 5.66901 4.87983 5.59859 5.0715C5.52817 5.26317 5.46948 5.474 5.42254 5.704V9.752H3.73239V5.888C3.7011 5.704 3.47418 5.05233 3.05164 3.933L1.71362 0H3.42723L4.50704 3.887H4.62441L5.65728 0ZM20 16.997C20 17.7483 19.9531 18.86 19.8592 20.332C19.7966 21.0987 19.4953 21.7082 18.9554 22.1605C18.4155 22.6128 17.7543 22.8543 16.9718 22.885C15.4225 22.9617 13.0986 23 10 23C6.88576 23 4.56182 22.9617 3.02817 22.885C2.2457 22.8543 1.58451 22.6128 1.0446 22.1605C0.504695 21.7082 0.203443 21.0987 0.140845 20.332C0.0469484 18.86 0 17.7483 0 16.997C0 16.2457 0.0469484 15.134 0.140845 13.662C0.203443 12.8953 0.504695 12.2858 1.0446 11.8335C1.58451 11.3812 2.2457 11.1397 3.02817 11.109C4.56182 11.0323 6.88576 10.994 10 10.994C13.1142 10.994 15.4382 11.0323 16.9718 11.109C17.7543 11.1397 18.4155 11.3812 18.9554 11.8335C19.4953 12.2858 19.7966 12.8953 19.8592 13.662C19.9531 15.134 20 16.2457 20 16.997ZM18.3333 19.09V18.653H17.0892C17.0892 18.6837 17.0931 18.7833 17.1009 18.952C17.1088 19.1207 17.1088 19.2395 17.1009 19.3085C17.0931 19.3775 17.0736 19.4657 17.0423 19.573C17.011 19.6803 16.9562 19.757 16.8779 19.803C16.7997 19.849 16.6901 19.872 16.5493 19.872C16.3928 19.872 16.2715 19.826 16.1854 19.734C16.0994 19.642 16.0524 19.55 16.0446 19.458C16.0368 19.366 16.0329 19.2357 16.0329 19.067V17.963H18.3333V16.491C18.3333 15.9543 18.1847 15.5327 17.8873 15.226C17.59 14.9193 17.1674 14.766 16.6197 14.766C16.0876 14.766 15.6455 14.9232 15.2934 15.2375C14.9413 15.5518 14.7653 15.9697 14.7653 16.491V19.09C14.7653 19.642 14.9178 20.0828 15.223 20.4125C15.5282 20.7422 15.9624 20.907 16.5258 20.907C17.7308 20.907 18.3333 20.3013 18.3333 19.09ZM13.8498 19.527V16.307C13.8498 15.341 13.4585 14.858 12.6761 14.858C12.2848 14.858 11.9249 15.0343 11.5962 15.387V12.857H10.3756V20.746H11.5962V20.286C11.9405 20.6387 12.3239 20.815 12.7465 20.815C13.482 20.815 13.8498 20.3857 13.8498 19.527ZM7.98122 20.746H9.1784V14.927H7.98122V19.343C7.71518 19.6343 7.47261 19.78 7.25352 19.78C7.05008 19.78 6.94836 19.6497 6.94836 19.389V14.927H5.7277V19.826C5.7277 20.5007 6.00939 20.838 6.57277 20.838C7.04225 20.838 7.51174 20.5927 7.98122 20.102V20.746ZM4.31925 14.007H5.75117V12.857H1.5493V14.007H2.95775V20.746H4.31925V14.007ZM17.0892 16.422V17.066H16.0329V16.422C16.0329 16.008 16.2128 15.801 16.5728 15.801C16.9171 15.801 17.0892 16.008 17.0892 16.422ZM12.6056 16.353V19.412C12.6056 19.734 12.4648 19.895 12.1831 19.895C11.964 19.895 11.7684 19.8107 11.5962 19.642V16.008C11.7527 15.8547 11.9249 15.778 12.1127 15.778C12.4413 15.778 12.6056 15.9697 12.6056 16.353Z" fill="#242135"/>
          </svg>
          <svg v-if="allInfo[0].facebook" @click="goToOuterLink(allInfo[0].facebook)" width="23" height="23" viewBox="0 0 23 23" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M20.4444 0H2.55556C1.15 0 0 1.15 0 2.55556V20.4444C0 21.8513 1.15 23 2.55556 23H11.5V14.0556H8.94444V10.8931H11.5V8.27361C11.5 5.5085 13.0487 3.56628 16.3121 3.56628L18.6159 3.56883V6.89744H17.0864C15.8163 6.89744 15.3333 7.85067 15.3333 8.73489V10.8943H18.6147L17.8889 14.0556H15.3333V23H20.4444C21.85 23 23 21.8513 23 20.4444V2.55556C23 1.15 21.85 0 20.4444 0Z" fill="#242135"/>
          </svg>
          <svg v-if="allInfo[0].instagram" @click="goToOuterLink(allInfo[0].instagram)" width="23" height="23" viewBox="0 0 23 23" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M22.9259 6.78856C22.913 5.82284 22.732 4.86672 22.3908 3.96297C22.0949 3.20066 21.643 2.50835 21.064 1.93026C20.4849 1.35218 19.7915 0.901041 19.0279 0.605666C18.1343 0.270774 17.1902 0.0896912 16.2359 0.0701298C15.0072 0.0153011 14.6177 0 11.4987 0C8.37978 0 7.98001 8.55012e-08 6.76027 0.0701298C5.8064 0.089835 4.86278 0.270915 3.96957 0.605666C3.20587 0.900835 2.5123 1.3519 1.93323 1.93001C1.35416 2.50812 0.902335 3.20054 0.606675 3.96297C0.270553 4.85442 0.089562 5.79668 0.0715238 6.74903C0.0166037 7.97694 0 8.36584 0 11.4796C0 14.5934 -9.51596e-09 14.9912 0.0715238 16.2102C0.0906819 17.1639 0.270768 18.1049 0.606675 18.9988C0.902831 19.761 1.35499 20.4531 1.93425 21.031C2.51352 21.6088 3.20716 22.0597 3.97085 22.3548C4.86162 22.7032 5.8054 22.8972 6.76155 22.9286C7.9915 22.9834 8.38105 23 11.5 23C14.6189 23 15.0187 23 16.2385 22.9286C17.1927 22.9098 18.1368 22.7292 19.0304 22.3943C19.7938 22.0986 20.4871 21.6474 21.0661 21.0693C21.6451 20.4913 22.0971 19.7991 22.3933 19.037C22.7292 18.1445 22.9093 17.2035 22.9285 16.2484C22.9834 15.0218 23 14.6329 23 11.5179C22.9974 8.40409 22.9974 8.00882 22.9259 6.78856ZM11.4911 17.3679C8.22907 17.3679 5.58652 14.7298 5.58652 11.4732C5.58652 8.21665 8.22907 5.5785 11.4911 5.5785C13.057 5.5785 14.5589 6.19955 15.6662 7.30503C16.7735 8.4105 17.3956 9.90985 17.3956 11.4732C17.3956 13.0366 16.7735 14.5359 15.6662 15.6414C14.5589 16.7469 13.057 17.3679 11.4911 17.3679ZM17.6306 6.735C16.8681 6.735 16.2538 6.12041 16.2538 5.36046C16.2538 5.18004 16.2894 5.00138 16.3585 4.83469C16.4277 4.668 16.5291 4.51654 16.6569 4.38896C16.7846 4.26138 16.9364 4.16018 17.1033 4.09114C17.2703 4.02209 17.4492 3.98656 17.63 3.98656C17.8107 3.98656 17.9896 4.02209 18.1566 4.09114C18.3236 4.16018 18.4753 4.26138 18.6031 4.38896C18.7309 4.51654 18.8322 4.668 18.9014 4.83469C18.9706 5.00138 19.0062 5.18004 19.0062 5.36046C19.0062 6.12041 18.3905 6.735 17.6306 6.735Z" fill="#242135"/>
          </svg>
        </div>
      </div>
      <p class="description">ЖК Бруклин. Все права защищены </p>
      <p class="description pink" @click="goToOuterLink('https://sells.company/')">Разработка сайта компания Sells</p>
    </div>
  </div>
</template>

<script>
import { setScrollAvailable, setScrollUnavailable } from '@/utils/utils'
export default {
  props: ['toggleMenu'],
  mounted () {
    setScrollUnavailable()
  },
  beforeDestroy () {
    setScrollAvailable()
  },
  computed: {
    allInfo () {
      return this.$store.getters.allInfo
    }
  },
  methods: {
    goTo (path) {
      this.toggleMenu()
      this.$router.push(path).then(() => window.scrollTo(0, 0))
    },
    openModal () {
      this.$store.commit('toggleModal', 1)
    },
    goToOuterLink (link) {
      window.open(link, '_blank')
    }
  }
}
</script>

<style scoped>
.menu{
  position:fixed;
  top:0;
  left:0;
  right:0;
  bottom:0;
  padding-top:57px;
  background:#fff;
  z-index:9;
  overflow:scroll;
  transform-origin:right;
  animation:open-menu-animation 0.6s ease-in-out forwards;
}

.app-wrapper{
  opacity:0;
  animation: open-items-animation 1.2s ease-in-out forwards;
}

.menu__item{
  font-weight: 500;
  font-size: 12px;
  padding:17px 0;
  color: #242135;
  border-bottom:1px solid #242135;
}

.social{
  padding:22px 0;
  display:flex;
  align-items:center;
  justify-content:space-between;
}

.social svg{
  margin-left:13px;
}

.description{
  font-weight: 500;
  font-size: 12px;
  text-align: center;
  color: #242135;
  padding:22px 0;
}

.pink{
  padding-top:0;
  text-decoration-line: underline;
  color: #EA8E79;
}

@keyframes open-menu-animation {
  from{transform:scaleX(0)}
  to{transform:scaleX(1)}
}

@keyframes open-items-animation {
  0{opacity:0}
  50%{opacity:0}
  100%{opacity:1}
}
</style>
